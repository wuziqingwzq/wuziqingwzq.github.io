---
layout: post
title:  "CA基础知识培训（一）"
date:   2017-06-13 16:43:00 +0800
categories:  CA
tags: PKI CA
---
本教程用于零基础的CA从业人员了解行业基础知识，从而更好的熟悉相关业务。

# CA的定义
CA机构，又称为**数字证书**授证（Certificate Authority）中心，作为网络活动中受信任的第三方，承担**公钥体系**中公钥的合法性检验的责任。

以上是CA的定义，一般来说，CA就是给用户签发数字证书的可信第三方，国内的CA通常都会同时使用SM2和RSA两种非对称算法。

- 对称算法
- 非对称算法
- 公钥体系（PKI）
- 

这次的教程主要就从以上三个关键词开始：

## 对称算法
CA以及相关的非对称算法都是由密码学的发展而被发明出来的，在古代，密码通常用于军事领域，用于隐秘地传输信息。

比如说在古代如果有一个将军需要向前线传输一条信息：
> hello world

并向前线的士兵做好如下约定：
> 我传输给你们的信息，所有的字母我都会加一,a->b,b->c,z->a

那么前线士兵在收到信息之后，会发现是一条这样的数据：
> ifmmp xpsme

根据和将军的约定,对照着字母表把所有的字母都减一之后，就得到了将军的信息
![字母表](/assets/pic/2017-06-13/abcd.png)

```
ifmmp xpsme
↓
hello world
```
***

在上面这个简单的加密过程中，包含了两个部分：
1. 算法：把字符串加上某个数
2. 密钥：在这个例子里面就是1，将军也可以约定加2或者加3

在解密过程里面，也包含了两个部分：
1. 算法：之前是加，现在就是字符串减某个数
2. 密钥：和加密时一样，是1

以前的密码学和上面提到的例子都很相似，包含**算法**与**密钥**两个部分，加密就是将普通信息转换成难以理解的密文，而解密则是相反的算法，其中有一个很重要的特征就是**加密与解密共用一个密钥**，这种算法就叫做对称算法。

通常算法的种类有限，但是一个算法的密钥是无限的。

## 非对称算法
对称算法要能安全生效的一个条件就是双方约定好**算法**与**密钥**两个部分，在以前，使用密码手册或者使用密码机都是双方确认密钥的过程，但是在信息时代，通信的双方一个在亚洲，一个在美洲，线下可能永远不接触，导致密钥无法交换，或者密钥只能在线上通过网络传输。

![地图](/assets/pic/2017-06-13/world.png)

这种情况就导致了不管是多么复杂的对称加密算法，都无法防范中间人攻击，因为通信双方的所有信息都会被中间人截取，包括密钥，一旦中间人持有算法和密钥，通信双方的信息对于中间人来说都是明文传输。

![传输问题](/assets/pic/2017-06-13/transport.png)

非对称算法就是为了解决该问题而产生的，数学家提出了这样一种密码算法：**密钥成对出现，密钥1加密的数据只有密钥2才能解开，密钥2加密的数据只有密钥1才能解开**。在进行信息交换的时候，密钥持有人自己保留密钥1，称为**私钥**，把密钥2公开到互联网上，称为**公钥**。

如果有人向你传输数据，使用你的公钥来加密信息发送给你，这种算法可以从技术上防范中间人截取信息的风险，中间人通过截取传输的数据，能够知道公钥与算法，但是依旧无法解密通过公钥加密的信息，这条信息只有私钥持有人才能解开。这就是非对称算法的**加密应用**。

另一方面，如果你想向别人传递一条信息，可以使用私钥来加密，所有持有公钥的人都能解开，约等于明文，这条数据只有私钥持有人能生成，从侧面来说这条消息是无法被篡改的。这就是非对称算法的**签名应用**。

手机修改







